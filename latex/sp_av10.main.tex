%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%% Content starts here %%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}[fragile]{Потсетување од предавања}{Отворање датотеки за
читање/запишување}

\begin{itemize}
  \item Обработка на датотеки се состои од запишување, вчитување или менување содржина
од на датотека од некој стандарден медиум како диск.
  \item Обработката на датотеките во програмскиот јазик C се прави со помош на
  структурата \texttt{FILE} дефинирана во \texttt{stdio.h}
  \item За да се започне со обработка на датотеката прво мора да се отвори со
  помош на функцијата \texttt{fopen} која како резултат враќа покажувач кон
  структура (\texttt{FILE*})
\end{itemize}
\begin{exampleblock}{Функција за отворање датотека}
\begin{lstlisting}
FILE *fopen(const char *filename, const char *mode);
\end{lstlisting}
\begin{scriptsize}
\texttt{filename} - целосна патека заедно со името на датотеката која сакаме да
ја отвориме\\
\texttt{mode} - начин на отворање на датотеката
\end{scriptsize}
\end{exampleblock}
\end{frame}

\begin{frame}{Потсетување од предавања}{Начини на отворање на датотеки}
\begin{tabular}{| c | p{.8\textwidth} |}
\hline
\textbf{Начин} & \textbf{Значење}\\
\hline
\texttt{r}  &  Отвора постоечка датотека само за читање\\
\hline
\texttt{w} & Отвора датотека за запишување (датотеката не мора да постои)\\
\hline
 \texttt{a} & Отвора датотека за додавање содржина (датотеката не мора да
 постои)\\
 \hline
 \texttt{r+} & Отвора датотека за читање и запишување од почетокот на датотеката\\
 \hline
 \texttt{w+} & Отвора датотека за читање и запишување (ја пребришува
 содржината на датотеката)\\
 \hline
 \texttt{a+} & Отвора датотека за читање и запишување (додава на крајот од
 датотеката ако постои)\\
 \hline
\end{tabular}
\end{frame}

\begin{frame}[fragile]{Потсетување од предавања}{Отворање датотеки за
читање/запишување}

\begin{exampleblock}{Пример отворање на датотека}
\begin{lstlisting}
FILE *fp = fopen("C:\\test.txt", "r");
\end{lstlisting}
\begin{scriptsize}
За да се отвори датотеката во бинарен мод се додава \texttt{b} крајот на
аргументот за начинот на отворање пр. (\texttt{``rb''})
\end{scriptsize}
\end{exampleblock}
По завршување со работа со датотеката таа треба да се затвори со помош на
функцијата \texttt{fclose}
\begin{exampleblock}{Пример затворање на датотека}
\begin{lstlisting}
fclose(fp);
\end{lstlisting}
\end{exampleblock}
\end{frame}

\begin{frame}[fragile]{Потсетување од предавања}{Читање и запишување од/во
датотека}
Функции за читање од датотека
\begin{lstlisting}
int fscanf(FILE* fp, ``kontrolna niza'', arguments_list)
int fgetc(FILE* fp)
\end{lstlisting}

Функции за запишување во датотека
\begin{lstlisting}
int fprtinf(FILE* fp, ``kontrolna niza'', arguments_list)
int fputc(int c, FILE* fp)
\end{lstlisting}

\end{frame}


\begin{frame}[fragile]{Задачa 1}{Решение 1/2}
Да се напише програма која за дадена текстуална датотека ќе го одреди односот на
самогласките и согласките. Името на датотеката се проследува како аргумент на
командна линија.
\lstinputlisting[lastline=19]{src/av10/p1.c}
\end{frame}

\begin{frame}[fragile]{Задача 1}{Решение 2/2}
\lstinputlisting[firstline=21]{src/av10/p1.c}
\end{frame}

\begin{frame}{Задачa 2}
Да се напише програма која секој ред од дадена текстуална датотека ќе го копира
во излезна датотека така што пред секој ред ќе додаде уште еден ред во кој ќе
стои бројот на зборови што ги содржи прочитаниот ред од влезната датотека. Името
на влезната и излезната датотека се задаваат како аргументи на командна линија,
а ако не се зададени да се испечати начин на употреба на програмата. Зборовите
се составени од алфанумерички знаци и се одделени со произволен број белини и
специјални знаци. Во секој ред може да има најмногу 80 знаци.
\end{frame}

\begin{frame}[fragile]{Задачa 2}{Решение 1/2} 
\lstinputlisting[lastline=20]{src/av10/p2.c}
\end{frame}



\begin{frame}[fragile]{Задачa 2}{Решение 2/2} 
\lstinputlisting[firstline=21]{src/av10/p2.c}
\end{frame}

\begin{frame}{Задачa 3}
Да се напише програма која ќе ги прочита елементите од една матрица сместени во
текстуалната датотека ``matrica1.txt''. Во првиот ред од датотеката се запишани
бројот на редици и колони на матрицата. Секој елемент од матрицата е реален број
запишан во посебен ред во датотеката. Потоа матрицата треба да се транспонира и
да се запише во нова датотека ``matrica2.txt'' на истиот начин.
\end{frame}

\begin{frame}[fragile]{Задачa 3}{Решение 1/2} 
\lstinputlisting[lastline=22]{src/av10/p3.c}
\end{frame}



\begin{frame}[fragile]{Задачa 3}{Решение 2/2} 
\lstinputlisting[firstline=23]{src/av10/p3.c}
\end{frame}


\begin{frame}{Задачa 4}
Дадена е текстуална датотека ``KRSPrimer.txt''. Да се напише програма која ќе го
отпечати бројот на редови во кои има по најмногу десет зборови, како и вкупниот
број на зборови во датотеката. Зборовите се составени само од букви. Во секој
ред има најмногу 80 знаци.
\end{frame}

\begin{frame}[fragile]{Задачa 4}{Решение}
\lstinputlisting{src/av10/p4.c}
\end{frame}

\begin{frame}{Задачa 5}
Да се напише програма која за дадена текстуална датотека ќе ги испечати
сите зборови во кои се јавуваат повеќе од две исти букви (буквата се јавува три или
повеќе пати). Да не се прави разлика меѓу големи и мали букви. На крајот треба
да се испечати бројот на зборови што го задоволуваат условот. Зборовите се
составени само од букви, а меѓусебно се одделени со најмалку еден специјален
знак, цифра или белина. Максималната должина на зборовите е 20 знаци. Името на
датотеката се задава од командна линија. 
\begin{exampleblock}{Пример зборови}
банана, текстот, Обратното, бинарната, дефинирани, Копакабана
\end{exampleblock}
\end{frame}

\begin{frame}[fragile]{Задачa 5}{Решение 1/3}
\lstinputlisting[lastline=22]{src/av10/p5.c}
\end{frame}

\begin{frame}[fragile]{Задачa 5}{Решение 2/3}
\lstinputlisting[firstline=23,lastline=36]{src/av10/p5.c}
\end{frame}

\begin{frame}[fragile]{Задачa 5}{Решение 3/3}
\lstinputlisting[lastline=37]{src/av10/p5.c}
\end{frame}

\begin{frame}{Задачa 6}
Да се напише програма која ќе го испечати бројот на појавувања на даден збор
составен само од цифри во текстуална датотека. Името на датотеката и бараниот
збор се задаваат како аргументи од командна линија. Програмата проверува дали на
командна линија се зададени сите потребни аргументи, а ако не се, тогаш печати
порака ``Nevalidni argumenti na komandna linija''. Се смета дека зборовите се
составени само од цифри и меѓусебно се разделени со произволен број на белини,
специјални знаци и букви. Во текстуалната датотека нема зборови подолги од 20
знаци.    
\end{frame}

\begin{frame}[fragile]{Задачa 6}{Решение 1/2}
\lstinputlisting[lastline=16]{src/av10/p6.c}
\end{frame}

\begin{frame}[fragile]{Задачa 6}{Решение 2/2}
\lstinputlisting[firstline=17]{src/av10/p6.c}
\end{frame}

\begin{frame}{Задачa 7}
Да се напише програма која за дадена текстуална датотека чие што име се внесува
како аргумент на командна линија ќе го испечати просечниот број на  букви во
збор. Зборовите се составени од алфанумерички знаци и се одделени со најмалку
едно празно место, белина и/или знаци за интерпункција. Пресметувањето на бројот
на букви и зборови во датотеката да се направи во посебна функција:\\[.5cm]

\texttt{\scriptsize{void brBukviIZborovi(FILE* f, int* brzborovi, int*
brbukvi);}}

\end{frame}

\begin{frame}[fragile]{Задачa 7}{Решение 1/2}
\lstinputlisting[lastline=18]{src/av10/p7.c}
\end{frame}

\begin{frame}[fragile]{Задачa 7}{Решение 2/2}
\lstinputlisting[firstline=19]{src/av10/p7.c}
\end{frame}

